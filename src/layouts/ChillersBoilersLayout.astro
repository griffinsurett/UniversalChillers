---
import Section from "@/components/Section/Section.astro";
import { getCollection } from 'astro:content';
import ChillersImg from "@/assets/Chiller.jpg";
import BoilersImg   from "@/assets/Boiller.jpg";

// Fetch all service entries from the `services` content collection
const allServices = await getCollection('services');

// Find the individual entries for chillers and boilers
const chillers = allServices.find(s => s.slug === 'chillers');
const boilers  = allServices.find(s => s.slug === 'boilers');

// Default background panel classes
const baseSecClasses = "load fade-in min-h-[60vh] lg:min-h-[90vh] w-full bg-cover bg-center flex justify-center";
---

<Section sectionClass="p-0 m-0" contentClass="p-0 m-0">
  {/* Chillers Panel */}
  <div
    class={`${baseSecClasses} items-center lg:items-end lg:pb-[var(--spacing-xl)]`}
    style={`background-image: url(${ChillersImg.src});`}
  >
    <div class="flex flex-col justify-center items-center text-center p-8 lg:p-16 text-bg">
      <h2 class="text-3xl lg:text-5xl font-bold mb-4">
        {chillers.data.title}
      </h2>
      <p class="max-w-prose text-base lg:text-lg">
        {chillers.data.description}
      </p>
    </div>
  </div>

  {/* Boilers Panel */}
  <div
    class={`${baseSecClasses} items-center lg:items-start lg:pt-[var(--spacing-xl)]`}
    style={`background-image: url(${BoilersImg.src});`}
  >
    <div class="flex flex-col justify-center items-center text-center p-8 lg:p-16 text-bg">
      <h2 class="text-3xl lg:text-5xl font-bold mb-4">
        {boilers.data.title}
      </h2>
      <p class="max-w-prose text-base lg:text-lg">
        {boilers.data.description}
      </p>
    </div>
  </div>
</Section>
